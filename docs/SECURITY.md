# Luna - ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¬ã‚¤ãƒ‰

## æ¦‚è¦

ã“ã®ã‚¬ã‚¤ãƒ‰ã§ã¯ã€Lunaãƒœãƒƒãƒˆã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã€è„†å¼±æ€§å¯¾ç­–ã€å®‰å…¨ãªé‹ç”¨æ–¹æ³•ã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™ã€‚

---

## ğŸ” ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£åŸå‰‡

### 1. **æœ€å°æ¨©é™ã®åŸå‰‡**
- å¿…è¦æœ€å°é™ã®æ¨©é™ã®ã¿ã‚’ä»˜ä¸
- ç®¡ç†ã‚³ãƒãƒ³ãƒ‰ã¯é©åˆ‡ãªæ¨©é™ãƒã‚§ãƒƒã‚¯å®Ÿè£…æ¸ˆã¿
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ¬ãƒ™ãƒ«ã§ã®æ¨©é™åˆ†é›¢

### 2. **å¤šå±¤é˜²å¾¡**
- ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¬ãƒ™ãƒ« + ã‚·ã‚¹ãƒ†ãƒ ãƒ¬ãƒ™ãƒ« + ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒ¬ãƒ™ãƒ«
- å…¥åŠ›æ¤œè¨¼ + æ¨©é™ãƒã‚§ãƒƒã‚¯ + ãƒ­ã‚°ç›£è¦–
- ãƒ•ã‚§ã‚¤ãƒ«ã‚»ãƒ¼ãƒ•è¨­è¨ˆ

### 3. **é€æ˜æ€§ã¨ãƒ­ã‚°**
- å…¨ã¦ã®é‡è¦ãªæ“ä½œã‚’ãƒ­ã‚°è¨˜éŒ²
- ç›£æŸ»è¨¼è·¡ã®ä¿æŒ
- ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¤ãƒ³ã‚·ãƒ‡ãƒ³ãƒˆã®æ¤œå‡º

---

## ğŸ›¡ï¸ Discord Bot ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£

### 1. **Bot Token ç®¡ç†**

#### âš ï¸ é‡è¦ãªæ³¨æ„äº‹é …
```bash
# çµ¶å¯¾ã«ã‚„ã£ã¦ã¯ã„ã‘ãªã„
git add config.toml           # âŒ ãƒˆãƒ¼ã‚¯ãƒ³æµå‡º
echo "token=abc123" >> .env   # âŒ ãƒ—ãƒ¬ãƒ¼ãƒ³ãƒ†ã‚­ã‚¹ãƒˆä¿å­˜
```

#### âœ… å®‰å…¨ãªç®¡ç†æ–¹æ³•

**ç’°å¢ƒå¤‰æ•°ã§ã®ç®¡ç†**
```bash
# .bashrc ã¾ãŸã¯ .profile
export DISCORD_BOT_TOKEN="your_secure_token_here"
```

**è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®æ¨©é™è¨­å®š**
```bash
# config.toml ã®æ¨©é™ã‚’åˆ¶é™
chmod 600 config.toml
chown bot-user:bot-user config.toml
```

**Dockerç’°å¢ƒã§ã®ç®¡ç†**
```yaml
# docker-compose.yml
services:
  luna-bot:
    environment:
      - DISCORD_BOT_TOKEN_FILE=/run/secrets/bot_token
    secrets:
      - bot_token

secrets:
  bot_token:
    file: ./secrets/bot_token.txt
```

### 2. **Discord æ¨©é™è¨­å®š**

#### Bot æ‹›å¾…æ™‚ã®æœ€å°æ¨©é™
```
âœ… æ¨å¥¨æ¨©é™:
- Read Messages/View Channels
- Send Messages
- Use Slash Commands
- Embed Links
- Read Message History
- Add Reactions

âš ï¸ æ³¨æ„ãŒå¿…è¦ãªæ¨©é™:
- Manage Messages (ãƒ­ã‚°æ©Ÿèƒ½ã§å¿…è¦)
- Manage Channels (ãƒã‚±ãƒƒãƒˆæ©Ÿèƒ½ã§å¿…è¦)

âŒ é¿ã‘ã‚‹ã¹ãæ¨©é™:
- Administrator (éå¤§ãªæ¨©é™)
- Manage Server (ä¸è¦)
- Manage Roles (ç¾åœ¨æœªä½¿ç”¨)
```

#### ã‚µãƒ¼ãƒãƒ¼å†…æ¨©é™ã®åˆ¶é™
```python
# å®Ÿè£…æ¸ˆã¿æ¨©é™ãƒã‚§ãƒƒã‚¯ä¾‹
@UserFormatter.has_manage_permissions
async def admin_command(interaction):
    # manage_messages ã¾ãŸã¯ administrator æ¨©é™ãŒå¿…è¦
    pass
```

---

## ğŸ”’ ãƒ‡ãƒ¼ã‚¿ä¿è­·

### 1. **æ©Ÿå¯†æƒ…å ±ã®å–ã‚Šæ‰±ã„**

#### ä¿å­˜ãƒ‡ãƒ¼ã‚¿ã®åˆ†é¡
```
ğŸ”´ æ©Ÿå¯†ãƒ¬ãƒ™ãƒ« é«˜:
- Discord Bot Token
- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æš—å·åŒ–ã‚­ãƒ¼ï¼ˆå°†æ¥å®Ÿè£…äºˆå®šï¼‰
- API Keysï¼ˆå¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹ï¼‰

ğŸŸ¡ æ©Ÿå¯†ãƒ¬ãƒ™ãƒ« ä¸­:
- ãƒ¦ãƒ¼ã‚¶ãƒ¼IDã€ã‚®ãƒ«ãƒ‰ID
- ãƒãƒ£ãƒƒãƒˆå±¥æ­´ï¼ˆãƒ­ã‚°ï¼‰
- ãƒã‚±ãƒƒãƒˆå†…å®¹

ğŸŸ¢ æ©Ÿå¯†ãƒ¬ãƒ™ãƒ« ä½:
- ã‚³ãƒãƒ³ãƒ‰ä½¿ç”¨çµ±è¨ˆ
- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ ãƒ¡ãƒˆãƒªã‚¯ã‚¹
- ä¸€èˆ¬çš„ãªè¨­å®šæƒ…å ±
```

#### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£
```bash
# SQLiteãƒ•ã‚¡ã‚¤ãƒ«ã®æ¨©é™è¨­å®š
chmod 600 data/databases/luna.db
chown bot-user:bot-user data/databases/luna.db

# ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ•ã‚¡ã‚¤ãƒ«ã®æš—å·åŒ–ï¼ˆæ¨å¥¨ï¼‰
gpg --symmetric --cipher-algo AES256 luna_backup.db
```

### 2. **ãƒ‡ãƒ¼ã‚¿ä¿æŒãƒãƒªã‚·ãƒ¼**

#### è‡ªå‹•å‰Šé™¤ã®å®Ÿè£…
```sql
-- å¤ã„ãƒ­ã‚°ã®è‡ªå‹•å‰Šé™¤ï¼ˆå®Ÿè£…æ¨å¥¨ï¼‰
DELETE FROM logs
WHERE timestamp < datetime('now', '-90 days');

-- å¤ã„ã‚¢ãƒã‚¿ãƒ¼å±¥æ­´ã®å‰Šé™¤
DELETE FROM avatar_history
WHERE timestamp < datetime('now', '-1 year');
```

#### ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ‡ãƒ¼ã‚¿ã®å‰Šé™¤
```python
# GDPRæº–æ‹ ã®ãƒ‡ãƒ¼ã‚¿å‰Šé™¤æ©Ÿèƒ½ï¼ˆå®Ÿè£…äºˆå®šï¼‰
async def delete_user_data(user_id: int):
    await database.delete_user_logs(user_id)
    await database.delete_user_tickets(user_id)
    await database.delete_user_avatar_history(user_id)
```

---

## ğŸš« å…¥åŠ›æ¤œè¨¼ã¨ã‚µãƒ‹ã‚¿ã‚¤ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³

### 1. **å®Ÿè£…æ¸ˆã¿æ¤œè¨¼æ©Ÿèƒ½**

#### ãƒ¦ãƒ¼ã‚¶ãƒ¼IDæ¤œè¨¼
```python
# UserFormatter.format_user_id_or_mention() ã§å®Ÿè£…æ¸ˆã¿
def safe_user_id_extraction(user_input: str) -> Optional[int]:
    # ãƒ¡ãƒ³ã‚·ãƒ§ãƒ³å½¢å¼ã®å®‰å…¨ãªè§£æ
    # ä¸æ­£ãªå…¥åŠ›ã®æ‹’å¦
    # SQL ã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³å¯¾ç­–
```

#### ãƒãƒ£ãƒ³ãƒãƒ«æƒ…å ±ã®å®‰å…¨ãªå–å¾—
```python
# UserFormatter.format_channel_info() ã§å®Ÿè£…æ¸ˆã¿
def safe_channel_reference(channel) -> str:
    # å±æ€§å­˜åœ¨ç¢ºèª
    # Null å®‰å…¨æ€§
    # ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
```

### 2. **è¿½åŠ ã®æ¤œè¨¼ãŒå¿…è¦ãªç®‡æ‰€**

#### ãƒã‚±ãƒƒãƒˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„
```python
# å®Ÿè£…æ¨å¥¨: ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°
def sanitize_ticket_content(content: str) -> str:
    # HTML/Markdownã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³å¯¾ç­–
    # ä¸é©åˆ‡ãªã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®æ¤œå‡º
    # é•·ã•åˆ¶é™ã®å®Ÿè£…
    return clean_content
```

#### ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
```python
# ã‚¢ãƒã‚¿ãƒ¼è§£æã§ã®å®‰å…¨æ€§ï¼ˆå®Ÿè£…æ¸ˆã¿ï¼‰
async def safe_image_analysis(image_url: str):
    # URL ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
    # ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºåˆ¶é™
    # ãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼ãƒã‚§ãƒƒã‚¯
    # ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆè¨­å®š
```

---

## ğŸ” ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç›£è¦–

### 1. **ãƒ­ã‚°ãƒ™ãƒ¼ã‚¹ç›£è¦–**

#### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¤ãƒ™ãƒ³ãƒˆã®æ¤œå‡º
```bash
# ä¸å¯©ãªã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ã®ç›£è¦–
grep -E "(CRITICAL|ERROR)" luna.log | grep -E "(auth|permission|token)"

# å¤§é‡ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®æ¤œå‡º
grep "rate limit" luna.log | tail -100

# ç•°å¸¸ãªã‚³ãƒãƒ³ãƒ‰ä½¿ç”¨ãƒ‘ã‚¿ãƒ¼ãƒ³
grep "command" luna.log | awk '{print $3}' | sort | uniq -c | sort -nr
```

#### è‡ªå‹•ã‚¢ãƒ©ãƒ¼ãƒˆè¨­å®š
```bash
#!/bin/bash
# security_monitor.sh

# æ¨©é™ã‚¨ãƒ©ãƒ¼ã®æ¤œå‡º
if grep -q "permission denied" luna.log; then
    echo "Permission violation detected" | mail security@example.com
fi

# ç•°å¸¸ãªAPIãƒ¬ã‚¤ãƒ†ãƒ³ã‚·
latency=$(grep "latency" luna.log | tail -1 | grep -o '[0-9]*ms' | cut -d'm' -f1)
if [ "$latency" -gt 1000 ]; then
    echo "High latency detected: ${latency}ms" | mail admin@example.com
fi
```

### 2. **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç›£è¦–**

#### Discord.py ã‚¤ãƒ™ãƒ³ãƒˆç›£è¦–
```python
# å®Ÿè£…æ¸ˆã¿: ãƒ­ã‚°ã‚·ã‚¹ãƒ†ãƒ ã§ã®ç›£è¦–
@commands.Cog.listener()
async def on_member_ban(self, guild, user):
    # BANã‚¤ãƒ™ãƒ³ãƒˆã®è¨˜éŒ²
    # ç•°å¸¸ãªBANé »åº¦ã®æ¤œå‡º
    pass

@commands.Cog.listener()
async def on_message_delete(self, message):
    # å¤§é‡å‰Šé™¤ã®æ¤œå‡º
    # ç®¡ç†è€…ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã®ç›£è¦–
    pass
```

---

## ğŸš¨ ã‚¤ãƒ³ã‚·ãƒ‡ãƒ³ãƒˆå¯¾å¿œ

### 1. **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¤ãƒ³ã‚·ãƒ‡ãƒ³ãƒˆã®åˆ†é¡**

#### ãƒ¬ãƒ™ãƒ«1: è»½å¾®
```
ä¾‹:
- ç„¡åŠ¹ãªã‚³ãƒãƒ³ãƒ‰ä½¿ç”¨
- æ¨©é™ä¸è¶³ã§ã®ã‚¢ã‚¯ã‚»ã‚¹è©¦è¡Œ
- è»½å¾®ãªè¨­å®šãƒŸã‚¹

å¯¾å¿œ:
- ãƒ­ã‚°è¨˜éŒ²
- é€šå¸¸é‹ç”¨ç¶™ç¶š
```

#### ãƒ¬ãƒ™ãƒ«2: ä¸­ç¨‹åº¦
```
ä¾‹:
- ä¸å¯©ãªAPIã‚¢ã‚¯ã‚»ã‚¹ãƒ‘ã‚¿ãƒ¼ãƒ³
- äºˆæœŸã—ãªã„æ¨©é™æ˜‡æ ¼
- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¨ãƒ©ãƒ¼ã®é »ç™º

å¯¾å¿œ:
- è©³ç´°èª¿æŸ»
- ä¸€æ™‚çš„ãªæ©Ÿèƒ½åˆ¶é™
- ç®¡ç†è€…ã¸ã®é€šçŸ¥
```

#### ãƒ¬ãƒ™ãƒ«3: é‡å¤§
```
ä¾‹:
- Token ã®æµå‡ºç–‘ã„
- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ç ´æ
- ã‚µãƒ¼ãƒ“ã‚¹æ‹’å¦æ”»æ’ƒ

å¯¾å¿œ:
- å³åº§ã«ã‚µãƒ¼ãƒ“ã‚¹åœæ­¢
- Token ã®å†ç”Ÿæˆ
- ãƒ•ã‚©ãƒ¬ãƒ³ã‚¸ãƒƒã‚¯èª¿æŸ»
```

### 2. **ç·Šæ€¥æ™‚å¯¾å¿œæ‰‹é †**

#### Token æµå‡ºæ™‚ã®å¯¾å¿œ
```bash
# 1. ãƒœãƒƒãƒˆå³åº§åœæ­¢
sudo systemctl stop luna-bot.service

# 2. Discord Developer Portal ã§Tokenå†ç”Ÿæˆ
# 3. æ–°ã—ã„Tokenã§ config.toml æ›´æ–°
nano config.toml

# 4. ãƒ­ã‚°ã®ç¢ºèª
grep -E "(login|auth|token)" luna.log

# 5. ã‚µãƒ¼ãƒ“ã‚¹å†é–‹
sudo systemctl start luna-bot.service
```

#### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ç ´ææ™‚ã®å¯¾å¿œ
```bash
# 1. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®æ•´åˆæ€§ãƒã‚§ãƒƒã‚¯
sqlite3 luna.db "PRAGMA integrity_check;"

# 2. ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‹ã‚‰ã®å¾©æ—§
cp data/backups/luna_latest.db data/databases/luna.db

# 3. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ä¿®å¾©ï¼ˆè»½å¾®ãªç ´ææ™‚ï¼‰
sqlite3 luna.db "VACUUM; REINDEX;"
```

---

## ğŸ”§ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­å®š

### 1. **ã‚·ã‚¹ãƒ†ãƒ ãƒ¬ãƒ™ãƒ«**

#### ãƒ•ã‚¡ã‚¤ã‚¢ã‚¦ã‚©ãƒ¼ãƒ«è¨­å®š
```bash
# UFW ã§ã®åŸºæœ¬è¨­å®š
sudo ufw default deny incoming
sudo ufw default allow outgoing
sudo ufw allow ssh
sudo ufw allow 443  # HTTPS (Discord API)
sudo ufw enable
```

#### ãƒ¦ãƒ¼ã‚¶ãƒ¼æ¨©é™
```bash
# å°‚ç”¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ä½œæˆ
sudo useradd -r -s /bin/false luna-bot
sudo mkdir -p /opt/luna-bot
sudo chown luna-bot:luna-bot /opt/luna-bot
```

#### systemd ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­å®š
```ini
# /etc/systemd/system/luna-bot.service
[Unit]
Description=Luna Discord Bot
After=network.target

[Service]
Type=simple
User=luna-bot
Group=luna-bot
WorkingDirectory=/opt/luna-bot
ExecStart=/usr/bin/poetry run python bot.py

# ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­å®š
NoNewPrivileges=true
PrivateTmp=true
ProtectHome=true
ProtectSystem=strict
ReadWritePaths=/opt/luna-bot/data
RestrictSUIDSGID=true

[Install]
WantedBy=multi-user.target
```

### 2. **ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¬ãƒ™ãƒ«**

#### ãƒ­ã‚°ãƒ¬ãƒ™ãƒ«ã®èª¿æ•´
```toml
# æœ¬ç•ªç’°å¢ƒã§ã®è¨­å®š
[logging]
level = "INFO"          # ãƒ‡ãƒãƒƒã‚°æƒ…å ±ã‚’åˆ¶é™
log_to_file = true
log_to_console = false  # æ©Ÿå¯†æƒ…å ±ã®å‡ºåŠ›é˜²æ­¢
```

#### æ©Ÿèƒ½åˆ¶é™
```toml
# ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£é‡è¦–ã®è¨­å®š
[features]
tickets = true
logger = true
auto_mod = false        # æ…é‡ãªæœ‰åŠ¹åŒ–

[logger]
ignore_bots = true      # ãƒœãƒƒãƒˆé–“ã®ãƒã‚¤ã‚ºå‰Šæ¸›
log_edits = false       # ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼è€ƒæ…®
log_deletes = true      # å‰Šé™¤ã®è¿½è·¡ã¯ç¶­æŒ
```

---

## ğŸ“‹ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

### å°å…¥æ™‚ãƒã‚§ãƒƒã‚¯

#### âœ… ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãƒ»è¨­å®š
- [ ] Bot Token ã®å®‰å…¨ãªä¿å­˜
- [ ] config.toml ã®æ¨©é™è¨­å®š (600)
- [ ] ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«ã®æ¨©é™è¨­å®š (600)
- [ ] ä¸è¦ãªæ¨©é™ã®å‰Šé™¤
- [ ] ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«ã®æ¨©é™ç¢ºèª

#### âœ… ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒ»ã‚·ã‚¹ãƒ†ãƒ 
- [ ] ãƒ•ã‚¡ã‚¤ã‚¢ã‚¦ã‚©ãƒ¼ãƒ«è¨­å®š
- [ ] SSH ã‚­ãƒ¼èªè¨¼ã®è¨­å®š
- [ ] å®šæœŸã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã®è¨­å®š
- [ ] å°‚ç”¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ã§ã®å®Ÿè¡Œ
- [ ] systemd ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚ªãƒ—ã‚·ãƒ§ãƒ³

### é‹ç”¨æ™‚ãƒã‚§ãƒƒã‚¯

#### âœ… æ—¥å¸¸ç›£è¦– (æ¯æ—¥)
- [ ] ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ã®ç¢ºèª
- [ ] ç•°å¸¸ãªæ¨©é™ã‚¢ã‚¯ã‚»ã‚¹ã®ç¢ºèª
- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›£è¦–
- [ ] ãƒ‡ã‚£ã‚¹ã‚¯ä½¿ç”¨é‡ç¢ºèª

#### âœ… é€±æ¬¡ãƒã‚§ãƒƒã‚¯ (æ¯é€±)
- [ ] ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ­ã‚°ã®è©³ç´°åˆ†æ
- [ ] ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ç¢ºèª
- [ ] è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®æ¨©é™ç¢ºèª
- [ ] ä¸è¦ãƒ•ã‚¡ã‚¤ãƒ«ã®å‰Šé™¤

#### âœ… æœˆæ¬¡ãƒã‚§ãƒƒã‚¯ (æ¯æœˆ)
- [ ] ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆ
- [ ] ä¾å­˜é–¢ä¿‚ã®è„†å¼±æ€§ãƒã‚§ãƒƒã‚¯
- [ ] ã‚¢ã‚¯ã‚»ã‚¹ãƒ­ã‚°ã®åˆ†æ
- [ ] ã‚¤ãƒ³ã‚·ãƒ‡ãƒ³ãƒˆå¯¾å¿œæ‰‹é †ã®è¦‹ç›´ã—

---

## ğŸ”„ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆ

### 1. **ä¾å­˜é–¢ä¿‚ã®ç›£è¦–**

#### Poetry ã§ã®è„†å¼±æ€§ãƒã‚§ãƒƒã‚¯
```bash
# å®šæœŸå®Ÿè¡Œæ¨å¥¨
poetry audit
poetry show --outdated
```

#### GitHub Security Alerts
```
- Dependabot ã®æœ‰åŠ¹åŒ–
- ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã®è‡ªå‹•PR
- è„†å¼±æ€§ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ç›£è¦–
```

### 2. **ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆæ‰‹é †**

#### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ‘ãƒƒãƒã®é©ç”¨
```bash
# 1. ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ä½œæˆ
cp -r /opt/luna-bot /opt/luna-bot.backup

# 2. ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆå®Ÿè¡Œ
poetry update

# 3. ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
poetry run python -m pytest

# 4. æœ¬ç•ªé©ç”¨
sudo systemctl restart luna-bot.service
```

---

## ğŸ“ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚µãƒãƒ¼ãƒˆ

### è„†å¼±æ€§ã®å ±å‘Š

#### å ±å‘Šæ–¹æ³•
1. **GitHub Security Advisories** (æ¨å¥¨)
2. **Email**: security@example.com
3. **æš—å·åŒ–é€šä¿¡**: PGPå…¬é–‹éµä½¿ç”¨

#### å¿…è¦æƒ…å ±
- è„†å¼±æ€§ã®è©³ç´°
- å†ç¾æ‰‹é †
- å½±éŸ¿ç¯„å›²
- æ¨å¥¨ã•ã‚Œã‚‹å¯¾ç­–

### ç·Šæ€¥æ™‚é€£çµ¡

#### ã‚¤ãƒ³ã‚·ãƒ‡ãƒ³ãƒˆå ±å‘Š
- **å³åº§ã«**: GitHub Issues (Critical ãƒ©ãƒ™ãƒ«)
- **è©³ç´°åˆ†æ**: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ¬ãƒãƒ¼ãƒˆæå‡º
- **ãƒ•ã‚©ãƒ­ãƒ¼ã‚¢ãƒƒãƒ—**: å¯¾ç­–å®Ÿè£…çŠ¶æ³å ±å‘Š

---

## ğŸ”® å°†æ¥ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¼·åŒ–

### äºˆå®šã•ã‚Œã¦ã„ã‚‹æ©Ÿèƒ½

#### v0.1.7+
- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æš—å·åŒ–
- 2FA å¯¾å¿œ
- ã‚ˆã‚Šè©³ç´°ãªæ¨©é™ç®¡ç†

#### v0.2.0+
- å¤–éƒ¨èªè¨¼ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼é€£æº
- ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç›£æŸ»ãƒ­ã‚°
- è‡ªå‹•è„…å¨æ¤œå‡º

### é•·æœŸçš„ãªè¨ˆç”»
- SOC2 æº–æ‹ ã®å®Ÿè£…
- GDPR å®Œå…¨æº–æ‹ 
- ãƒšãƒãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆã®å®Ÿæ–½